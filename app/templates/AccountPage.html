{% extends "layout.html" %}
{% block content %}
    <div class="content-section">
        <div class="media">
            <img class="rounded-circle account-img" src="{{profile_pic}}">
            <div class="media-body">
                <h2 class="account-heading">Username: {{current_user.username}}</h2>
                <p class="text-secondary">Name: {{current_user.first_name}} {{current_user.last_name}}</p>
                <p class="text-secondary">Email: {{current_user.email}}</p>
                <p class="text-secondary">Title: {{user_info.title_apl}}</p>
                <p class="text-secondary">Health Status: {{user_info.health}}</p>
                <p class="text-secondary">Earliest Start Date: {{user_info.earliest_start_date}}</p>
                <p class="text-secondary">Personal Bio: {{user_info.personal_bio}}</p>
            </div>
        </div>
    </div>

    <div class="content">
        <h1>Enter your personal information</h1>
        <form method="POST" action="">

            {{form.hidden_tag()}}

            <fieldset class="form-group">
                <div class = "form-group">  
                    {{form.title_apl.label(class='form-control-label')}}

                    {% if form.title_apl.errors %}
                        {{form.title_apl(class="form-control is-invalid")}}
                        <div class="invalid-feedback">
                            {% for error in form.title_apl.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{form.title_apl(class='form-control')}}
                    {% endif %}
                </div>

                <div class = "form-group">  
                    {{form.health.label(class='form-control-label')}}

                    {% if form.health.errors %}
                        {{form.health(class="form-control is-invalid")}}
                        <div class="invalid-feedback">
                            {% for error in form.health.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{form.health(class='form-control')}}
                    {% endif %}
                </div>
                
                <div class = "form-group">  
                    {{form.earliest_start_date.label(class='form-control-label')}}
                    {% if form.earliest_start_date.errors %}
                        {{form.earliest_start_date(class="form-control is-invalid")}}
                        <div class="invalid-feedback">
                            {% for error in form.earliest_start_date.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{form.earliest_start_date(class='form-control')}}
                    {% endif %}
                </div>

                <div class = "form-group">  
                    {{form.personal_bio.label(class='form-control-label')}}
                    {% if form.personal_bio.errors %}
                        {{form.personal_bio(class="form-control is-invalid")}}
                        <div class="invalid-feedback">
                            {% for error in form.personal_bio.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{form.personal_bio(class='form-control')}}
                    {% endif %}
                </div>

            </fieldset>
            <br>
            <div class="form-group">
                {{form.submit(class="btn btn-outline-info")}}
            </div>
        </form>
    </div>

{% endblock content %}